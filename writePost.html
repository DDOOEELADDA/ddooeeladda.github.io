<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>글쓰기 - 호그 주먹전</title>
<link rel="stylesheet" href="style.css">
</head>
<body class="bg">

<header class="nav">
  <div class="nav-inner">
    <a href="index.html" class="logo">Hog Boxing</a>
    <nav class="menu">
      <a href="index.html">홈</a>
      <a href="ranking.html">랭킹</a>
      <a href="board.html">게시판</a>
    
      <!-- 로그인 전 -->
      <a href="login.html" id="loginMenu">로그인</a>
    
      <!-- 로그인 후 -->
      <span id="userMenu" style="display:none;">
        <span id="userName" style="margin-right:10px;"></span>
        <a href="#" id="logoutBtn">로그아웃</a>
      </span>
    </nav>
  </div>
</header>

<div class="page-container">
  <h1 class="page-title">글쓰기</h1>
  <input class="input" id="titleInput" placeholder="제목을 입력하세요">
  <textarea class="textarea" id="contentInput" placeholder="내용을 입력하세요"></textarea>
  <button class="btn-primary" id="postSubmit">등록하기</button>
  <a href="board.html" class="btn-outline" style="margin-left:20px;">취소</a>
</div>

<!-- Firebase SDK (Firestore compat) -->
<script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore-compat.js"></script>

<script>
  // Firebase 설정
  const firebaseConfig = {
    apiKey: "AIzaSyA0nV1kSuJFiMDM9WV2vDAqGiXp6jPcsm4",
    authDomain: "hogboxing-35911.firebaseapp.com",
    projectId: "hogboxing-35911",
    storageBucket: "hogboxing-35911.appspot.com",
    messagingSenderId: "911173936135",
    appId: "1:911173936135:web:a34c9c81ab4ce23645f6a2",
    measurementId: "G-FJPPNS2QQN"
  };

  // Firebase 초기화
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  // 글 작성 함수
  function postSubmit() {
    const title = document.getElementById('title').value.trim();
    const content = document.getElementById('content').value.trim();

    if (!title || !content) {
      alert("제목과 내용을 입력해주세요!");
      return;
    }

    db.collection("posts").add({
      writer: "Boxer",        // 작성자 고정
      title: title,
      content: content,
      comments: 0,
      createdAt: new Date()
    })
    .then(() => {
      alert("글 작성 완료!");
      window.location.href = "board.html";
    })
    .catch((error) => {
      console.error("글 작성 실패", error);
      alert("글 작성 중 오류가 발생했습니다.");
    });
  }

  // 홈으로 돌아가기
  function goToHome() {
    window.location.href = "index.html";
  }
</script>
</body>
</html>


